<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p><em>Abre la consola</em></p>

    <h1>
        <code>this</code> se refiere a un objeto. Ese objeto es el que actualmente
        está ejecutando un pedazo de código.
    </h1>

    <script>
        // "this" at global scope
        console.log(`Global Scope: ${this}`);


        // "this" in the scope of a function
        function WhoIsMyThis (){
            return this;
        }
        console.log(`Function Scope: ${WhoIsMyThis()}`); //it is bcs we are calling a function directly


        // "this" in the scope of a function, but using strict mode
        function WhoIsMyThisStrict (){
            'use strict';
            return this;
        }
        console.log(`Function Scope with strict: ${WhoIsMyThisStrict()}`); // it is undefined bcs there is nothing inside the function


        // this in an object
        const person = {
            name: "Cristian",
            greetings: function (){
                console.log(`Hola soy ${this.name}`) // this means the Object person
            }
        }
        person.greetings();


        // this is a function of a object, but the function is outside the object
        const action = person.greetings;
        action(); // action() is not being called from the context of a object. It is being called directly
        //similar to this:
        const action_similar = function (){
                console.log(`Hola soy ${this.name}`) 
            }
        action_similar(); // because Im just calling the function without make a reference to the object
        const action_referenceObject = person.greetings();
        action_referenceObject;


        // "this" in the scope of a class. Classes don't really exist in JS
        function Person (name){
            this.name = name; //constructor //this es sobre la instancia, no sobre el objeto prototipal
        }
        Person.prototype.greetings = function() {
            console.log(`My name is ${this.name}`);
        };
        const angelaObj = new Person('Angela'); //this means angelaObj which is running greetings()
        angelaObj.greetings();

    </script>
</body>
</html>